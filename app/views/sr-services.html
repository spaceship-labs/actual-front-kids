<div class="content-block listing-view search-view" id="search-page">
  <div class="container container-xxlg" layout="row" layout-align="space-between start">

    <!--START NAV-->
    <aside flex="20">
      <sidebar-categories 
        active-store="main.activeStore"
        categories-tree="main.categoriesTree">
      </sidebar-categories>

    </aside>
    <!--END NAV-->

    <!--SUBCATEGORIES-->
    <div flex="75">

      <div class="subs-container">

        <!--RESULTS-->
        <div
          ng-if="!vm.isLoading || vm.search.page > 1"
          class="results"
          infinite-scroll="vm.loadMore()"
          infinite-scroll-disabled="!(vm.totalResults > vm.products.length && !vm.isLoading && vm.products.length > 0)"
          infinite-scroll-distance="1"
        >
          <div
            class="products-list"
            layout="row"
            layout-wrap
            layout-align="start center">
            <div flex="33" class="listing-product-wrap" ng-repeat="product in vm.products track by product.ItemCode">
              <listing-product 
                show-stock="false"
                sr-service="true"
                product="product"></listing-product>
            </div>
          </div>

        </div>
        <!--END RESULTS-->

        <div ng-if="vm.isLoading" layout="row" layout-align="center center" class="loading-circle">
          <md-progress-circular class="md-accent" md-diameter="100px"></md-progress-circular>
        </div>

      </div>
    </div>
    <!-- END SUBCATEGORIES-->

  </div>
</div>
